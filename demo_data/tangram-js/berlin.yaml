## HERE Berlin Style

##include lighting
##comment from jonah
    ## the lighting direction for light1 parameters seem wrong
    ## guessing intensity = attenuation
    ## guessing diffuse = color (could also be specular)
lights:
    light1:
        type: directional
        #direction: [1, 5, 0.5]
        diffuse: '#CCCBBB'
        attenuation: 0.8
    light2:
        type: directional
        direction: [-1, -3, 1]
        diffuse: '#F4DB92'
        attenuation: 0.8
    ambient1:
        type: ambient
        diffuse: '#FFFFFF'
        attenuation: 0.9
## set global style for font
fonts:
    FiraSans:
        - weight: 400
          url: https://fonts.gstatic.com/s/firasans/v9/va9E4kDNxMZdWfMOD5VvlIjLazX3dGTP.woff2
        - weight: 400
          style: italic
          url: https://fonts.gstatic.com/s/firasans/v9/va9C4kDNxMZdWfMOD5VvkrjFYTLVdlTOr0s.woff2
        - weight: 700
          url:  https://fonts.gstatic.com/s/firasans/v9/va9B4kDNxMZdWfMOD5VnLK3eQhf6Xl7Gl3LX.woff2
##set global style for language
global:
    language: en
    language_text_source: |
        function() {
            return (global.language && feature['name:'+global.language]) || feature.name;
        }
##set map background color
scene:
    background:
        color: '#87959A'

## set source in Mapbox Vector Tile (mvt) format
sources:
    berlin:
        type: MVT
        url: https://xyz.api.here.com/tiles/herebase.02/{z}/{x}/{y}/omv?access_token=AA2O8362IQ98hAUBPbckQQ8


#begin styling layers
layers:
##jonah - dont see any zoom settings or filters for water labels
    water:
        data: { source: berlin, layer: water }
        filter:
            - $geometry: polygon
        draw:
            water fill:
                style: polygons
                order: 5
                color: '#436981'
            text:
                text_source: global.language_text_source
                font:
                    size: 12.8
                    fill: [0.004, 0.137, 0.216, 0.50]
                    stroke: {color: [1.000, 1.000, 1.000, 0.5], width: 2}
#landuse style layers
## jonah - urban layer does not return data
    urban:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: urban
        draw:
            polygons:
                color: [0.875, 0.078, 0.533, 0.80]
                order: 0.1
##jonah - this layer disappears around z10
    urban_area:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: urban_area
        draw:
            polygons:
                color: [
                         [7, '#E6FCFF'],
                         [8, '#E6FCFF'],
                         [9, '#E7ECEF'],
                         [10, '#E6EBEE'],
                         [11, '#E5E9EC'],
                         [12, '#E6FCFF']
                         ]
                order: 0.1

    park_national:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: national_park
        draw:
            polygons:
                color: '#789185'
                order: 1
    park:
        data: { source: berlin , layer: landuse}
        filter:
             all:
                - $geometry: polygon
             any:
                - kind:
                    - nature
                    - forest
                    - park
                    - wood
                    - natural_wood
                    - grass
                    - meadow
                    - village_green
                    - dog_park
                    - garden
                    - nature_reserve
                    - protected_area
        draw:
            polygons:
                color: '#6C9478'
                order: 0.2
    pitch:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: pitch
        draw:
            polygons:
                color: '#718989'
                order: 1
    hopital:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: hospital
        draw:
            polygons:
                color: '#89878A'
                order: 0.1
    cemetery:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: cemetery
        draw:
            polygons:
                color: '#7E939A'
                order: 0.1
##jonah - couldnt find any of these
    bridge:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: bridge
        draw:
            polygons:
                color: '#7E939A'
                order: 1
    zoo:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            any:
            - kind:
                - sport
                - sports_centre
                - attraction
                - zoo
        draw:
            polygons:
                color: '#728989'
                order: 1
##jonah - didnt see any of these
    religion:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: religion
        draw:
            polygons:
                color: '#0DF3ED'
                order: 1
    industrial:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            any:
            - kind:
                - common
                - surface
                - commercial
                - military
                - industrial
        draw:
            polygons:
                color: '#7B8990'
                order: 0
##jonah - zoo is included here too?
    farmyard:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            any:
            - kind:
                - animal
                - aviary
                - zoo
                - farm
                - farmland
                - farmyard
        draw:
            polygons:
                color: '#BFF90D'
                order: 0
##jonah - im not sure there's a like operator for the
##        part where kind $= '_site'
    beach:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: beach
        draw:
            polygons:
                color: '#A9A992'
                order: 1
    aerodrome:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: aerodrome
        draw:
            polygons:
                color: '#718189'
                order: 0.3
##jonah - not sure what the 'final' operator translates too
    runway:
        data: { source: berlin , layer: landuse}
        filter:
            all:
            - $geometry: polygon
            - kind: runway
        draw:
            polygons:
                color: '#6A7A82'
                order: 20
#start road features
##jonah - didnt see any equal functions for fadeNear, fadeFar, or clipping (maybe tile_edges but that defaults to false )
    pier:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - not: { kind:[rail] }
            any:
            - kind_detail: pier
            - landuse_kind: pier
        draw:
            lines:
                color: '#FAFDFE'
                order: 10
                width: [
                        [13, 1.5px],
                        [14, 1.2px],
                        [15, 0.9px]
                        ]
    railway_industrial:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - $geometry: line
            - kind:
                - rail
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
            - service:
                - siding
                - industrial
                - yard
                - spur
                - crossover
##jonah - no width parameter given
        draw:
            lines:
                color: '#A4A8A2'
                width: 2
                order: 5
##jonah - didnt see any equal function xclippling
    railway_s_bahn:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - $geometry: line
            - kind: rail
            not:
                - is_tunnel: true
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
        draw:
            lines:
                order: 5.2
                color: '#696A6B'
                width: [
                    [13, 3.5],
                    [14, 1.5],
                    [15, 0.5]
                    ]
    railway_s_bahn_tunnel:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - $geometry: line
            - kind: rail
            - is_tunnel: true
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
        draw:
            lines:
                order: 5.1
                color: '#696A6B'
                width: [
                    [13, 3.5],
                    [14, 2.5]
                    ]
    railway_s_bahn_dashes:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - $geometry: line
            - kind: rail
            not:
                - is_tunnel: true
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
        draw:
            lines:
##jonah - not sure zoom levels work for dashes this way, ill look into it some more
                dash: [
                    [ 10, [1, 100 ] ],
                    [ 11, [1, 40 ] ],
                    [ 12, [1, 24 ] ],
                    [ 13, [1, 30 ] ],
                    [ 14, [1, 25 ] ],
                    [ 15, [1, 15 ] ],
                    [ 16, [1, 8 ] ]
                    ]
                order: 5.25
                color: '#696A6B'
                width: 3.75
    railway_s_bahn_dashes_tunnel:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - $geometry: line
            - kind: rail
            - is_tunnel: true
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
        draw:
            lines:
##jonah - not sure zoom levels work for dashes this way, ill look into it some more
                dash: [
                    [ 10, [1, 100 ] ],
                    [ 11, [1, 40 ] ],
                    [ 12, [1, 24 ] ],
                    [ 13, [1, 30 ] ],
                    [ 14, [1, 25 ] ],
                    [ 15, [1, 15 ] ],
                    [ 16, [1, 8 ] ]
                    ]
                order: 5.55
                color: '#DDDDDD'
                width: [
                    [13, 2.75 ],
                    [14, 1.75 ]
                    ]
    tram:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - kind: rail
            - kind_detail: tram
            any:
            - kind_detail:
                - rail
                - light_rail
                - tram
        draw:
            lines:
                color: '#B9B9B9'
                width: [
                        [13, 1.5],
                        [16, 0.75],
                        [17, 0.4]
                        ]
                order: 50
    ferry:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - kind: ferry
            - not:
                - kind: rail
        draw:
            lines:
                color: '#184F6E'
                width: [
                        [5, 320],
                        [6, 160],
                        [7, 80],
                        [8, 40],
                        [9, 15],
                        [10, 9],
                        [11, 6],
                        [12, 3],
                        [13, 1.5],
                        [14, 1]
                        ]
                order: 10
                dash: [2,2]
            text:
                font:
                    text_source: global.language_text_source
                    size: 12.8
                    priority: 25
                    order: 12
                    fill: '#03334E'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
##jonah - this was a TODO in the source
    parking_aisles:
        data: {source: berlin, layer: roads}
        filter:
            not:
                - kind: rail
            any:
            - kind_detail:
                - driveway
                - drive_through
                - parking_aisle
        draw:
            lines:
                color: '#A8ABA8'
                width: 5
                order: 10
    pedestrian:
        data: {source: berlin, layer: roads}
        filter:
            not:
            - kind: rail
            all:
            - kind: path
            any:
            - kind_detail:
                - pedestrian
                - path
                - footway
            - landuse_kind:
                - park
                - residential
                - footway
                - garden
                - allotments
                - pedestrian
                - grass
                - forest
                - cemetary
                - natural_wood
        draw:
            sidewalk_casing:
                style: lines
                color: '#3A4C69'
                width: 3
                order: 10.3
            sidewalk_line:
                style: lines
                color: '#B1B5B6'
                width: 2.5
                order: 12.3
            text:
                font:
                    text_source: kind_detail
                    size: 16
                    priority: 15
                    order: 12
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    residential:
        data: {source: berlin, layer: roads}
        filter:
            all:
            - not:
                - kind: rail
            - kind: minor_road
            any:
            - kind_detail:
                - residential
                - service
                - unclassified
        draw:
            road_casing:
                style: lines
                color: '#3A4C69'
                order: 11
                width: [
                        [10, 42],
                        [11, 28],
                        [12, 18],
                        [13, 7],
                        [14, 4]
                        ]
            road_line:
                style: lines
                color: '#EDECD9'
##jonah source order level renders below casing, adjusted to 11.5
                order: 11.5
                width: [
                        [10, 38],
                        [11, 24],
                        [12, 13],
                        [13, 5],
                        [14, 3]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 12.8
                    priority: 15
                    order: 12
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    secondary:
        data: {source: berlin, layer: roads}
        filter:
             all:
                - not:
                    - kind: rail
                - kind: major_road
                - kind_detail: secondary
        draw:
            road_casing:
                style: lines
                color: '#3A4C69'
                order: 10.3
                width: [
                        [7, 180],
                        [8, 110],
                        [9, 45],
                        [10, 30],
                        [11, 20],
                        [12, 16],
                        [13, 9],
                        [14, 6]
                        ]
            road_line:
                style: lines
                color: '#EDECD9'
                order: 15.3
                width: [
                        [7, 180],
                        [8, 110],
                        [9, 45],
                        [10, 30],
                        [11, 20],
                        [12, 12],
                        [13, 7],
                        [14, 5]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 16
                    priority: 15
                    order: 12
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    tertiary:
        data: {source: berlin, layer: roads}
        filter:
            all:
                - not:
                    - kind: rail
                - kind: major_road
            any:
                - kind_detail:
                    - primary
                    - tertiary
        draw:
            road_casing:
                style: lines
                color: '#3A4C69'
                order: 10.3
                width: [
                        [6, 550],
                        [7, 300],
                        [8, 100],
                        [9, 70],
                        [10, 38],
                        [11, 24],
                        [12, 14],
                        [13, 7],
                        [14, 5]
                        ]
            road_line:
                style: lines
                color: '#F0E8B5'
                order: 15.3
                width: [
                        [5, 830],
                        [6, 410],
                        [7, 220],
                        [8, 100],
                        [9, 50],
                        [10, 30],
                        [11, 20],
                        [12, 11],
                        [13, 6],
                        [14, 4]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 16
                    priority: 20
                    order: 13
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    primary:
        data: {source: berlin, layer: roads}
        filter:
            all:
                - not:
                    - kind: rail
                - kind: highway
            any:
                - kind_detail:
                    - primary
                    - motorway
        draw:
            road_casing:
                style: lines
                color: '#3A4C69'
                order: 10.4
                width: [
                        [6, 700],
                        [7, 400],
                        [8, 250],
                        [9, 120],
                        [10, 50],
                        [11, 33],
                        [12, 16],
                        [13, 11],
                        [14, 7]
                        ]
            road_line:
                style: lines
                color: '#D6C789'
                order: 15.4
                width: [
                        [5, 830],
                        [6, 550],
                        [7, 300],
                        [8, 150],
                        [9, 70],
                        [10, 35],
                        [11, 22],
                        [12, 12],
                        [13, 8],
                        [14, 6]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 16
                    priority: 25
                    order: 10
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
##jonah - this disappears at z10
    country_border:
        data: { source: berlin, layer: boundaries }
        filter:
            all:
            - $geometry: line
            - kind: country
        draw:
            boundary_case:
                style: lines
                color: '#52676E'
                order: 4
                width: [
                        [1, 10000],
                        [2, 8000],
                        [3, 7000],
                        [4, 5000],
                        [5, 3000],
                        [6, 2000],
                        [7, 1000],
                        [8, 500],
                        [9, 250],
                        [10, 120],
                        [11, 80],
                        [12, 40],
                        [13, 20],
                        [14, 10]
                        ]
            boundary_fill:
                style: lines
                color: '#2F444B'
                order: 4.1
                width: [
                        [2, 2000],
                        [3, 1400],
                        [4, 1000],
                        [5, 500],
                        [6, 220],
                        [7, 90],
                        [8, 50],
                        [9, 30],
                        [10, 20],
                        [11, 15],
                        [12, 10],
                        [13, 5],
                        [14, 2]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 12.8
                    priority: 100
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    disputed_border:
        data: { source: berlin, layer: boundaries }
        filter:
            all:
            - $geometry: line
            any:
            - kind:
                - disputed
                - indefinite
                - indeterminate
                - lease_limit
                - line_of_control
                - overlay_limit
        draw:
            boundary_casing:
                style: lines
##jonah - see previous note about zoom based dash
                dash: [5,5 ]
                color: '#52676E'
                order: 4.1
                width: [
                        [1, 10000],
                        [2, 8000],
                        [3, 7000],
                        [4, 5000],
                        [5, 3000],
                        [6, 2000],
                        [7, 1000],
                        [8, 500],
                        [9, 250],
                        [10, 120],
                        [11, 80],
                        [12, 40],
                        [13, 20],
                        [14, 10]
                        ]
            boundary_fill:
                style: lines
                dash: [
                    [ 10, [1, 100 ] ],
                    [ 11, [1, 40 ] ],
                    [ 12, [1, 24 ] ],
                    [ 13, [1, 30 ] ],
                    [ 14, [1, 25 ] ],
                    [ 15, [1, 15 ] ],
                    [ 16, [1, 8 ] ]
                    ]
                color: '#2F444B'
                order: 4
                width: [
                        [2, 4000],
                        [3, 2600],
                        [4, 1500],
                        [5, 1000],
                        [6, 720],
                        [7, 520],
                        [8, 270],
                        [9, 140],
                        [10, 90],
                        [11, 60],
                        [12, 30],
                        [13, 15],
                        [14, 10],
                        [15, 5],
                        [16, 2]
                        ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 12.8
                    priority: 100
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
##jonah - there's a duplication in the source where i think it should a line + line case
    region_border:
        data: { source: berlin, layer: boundaries }
        filter:
            all:
            - $geometry: line
            - kind: region
        draw:
            border_line:
                style: lines
                color: '#7C7C7C'
                order: 4.1
                width: [
                        [2, 600],
                        [3, 300],
                        [4, 150],
                        [5, 100],
                        [6, 60],
                        [7, 30],
                        [8, 20],
                        [9, 12],
                        [10, 8],
                        [11, 5],
                        [12, 3],
                        [13, 2],
                        [14, 1]
                    ]
            text:
                font:
                    text_source: global.language_text_source
                    size: 12.8
                    priority: 90
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
##jonah -- this layer is missing a description
    some_layer:
        data: { source: berlin, layer: boundaries }
        filter:
            - $geometry: point
        draw:
            text:
                font:
                    text_source: global.language_text_source
                    size: 27.2
                    priority: 200
                    fill: '#000'
                    stroke: {color: [1.000, 1.000, 1.000, 0.50,], width: 1
                        }
    earth_layer:
        data: { source: berlin , layer: earth}
        draw:
            land_label:
                style: text
                filter:
                - not:
                    - kind: island
                priority: [
                            [2, 120],
                            [3, 100],
                            [4, 60]
                ]
                font:
                    text_source: global.language_text_source
                    fill: [0.247, 0.094, 0.129, 0.50]
                    transform: capitalize
                    size: 16
            island_label:
                text_source: global.language_text_source
                style: text
                filter:
                    - kind: island
                font:
                    fill: [0.341, 0.337, 0.302, 0.60]
                    size: 16
    country_label_10million:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: country
            - function() { return feature.population > 10000000; }
        draw:
            text:
                text_source: global.language_text_source
                priority: 100
                font:
                    size: [
                        [1, 11.2],
                        [2, 12.8],
                        [3, 19.2],
                        [4, 22.4],
                        [5, 25.6]
                        ]
                    fill: [0.247, 0.094, 0.129, 0.80]
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
                    transform: uppercase
    country_label_1million:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: country
            - function() { return feature.population > 1000000; }
        draw:
            text:
                text_source: global.language_text_source
                priority: 100
                font:
                    size: [
                        [1, 8],
                        [2, 9.6],
                        [3, 12.8],
                        [4, 16],
                        [5, 19.2]
                        ]
                    fill: [0.247, 0.094, 0.129, 0.80]
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
                    transform: uppercase
    country_label:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: country
##jonah added a population filter here
            - function() { return feature.population < 1000000; }
        draw:
            text:
                text_source: global.language_text_source
                priority: 90
                font:
                    size: [
                        [1, 6.4],
                        [2, 11.2],
                        [3, 9.6],
                        [4, 12.8],
                        [5, 16]
                        ]
                    fill: [0.247, 0.094, 0.129, 0.80]
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
                    transform: uppercase
    region_label:
        data: { source: berlin , layer: places}
        filter:
            - kind: region
        draw:
            text:
                priority: 65
                font:
                    size: [
                        [3, 9.6],
                        [4, 10.88],
                        [5, 12.8],
                        [6, 14.4]
                        ]
                    fill: [0.024, 0.024, 0.024, 0.80]
                    transform: uppercase
    locality_label_10million:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 10000000; }
            - population: true
            - country_capital: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 61
                font:
                    weight: bold
                    size: [
                        [1, 9.6],
                        [2, 11.2],
                        [3, 12.8],
                        [4, 14.4],
                        [5, 16],
                        [6, 19.2],
                        [7, 22.4],
                        [8, 25.6],
                        [9, 28.8],
                        [10, 32]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
                    transform: uppercase
    locality_label_1million:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 1000000; }
            - population: true
            - region_capital: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 59
                font:
                    size: [
                        [2, 9.6],
                        [3, 11.2],
                        [4, 12.8],
                        [5, 14.4],
                        [6, 16],
                        [7, 19.2],
                        [8, 22.4],
                        [9, 25.6],
                        [10, 28.8],
                        [11, 32]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    locality_label_400k:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 400000; }
            - population: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 59
                font:
                    size: [
                        [4, 11.2],
                        [5, 12.8],
                        [6, 16],
                        [7, 19.2],
                        [8, 22.4],
                        [9, 24],
                        [10, 25.6],
                        [11, 27.2]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    locality_label_100k:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 100000; }
            - population: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 58
                font:
                    size: [
                        [4, 9.6],
                        [5, 11.2],
                        [6, 12.8],
                        [7, 16],
                        [8, 19.2],
                        [9, 20.8],
                        [10, 22.4],
                        [11, 24],
                        [12, 25.6]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    locality_label_50k:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 50000; }
            - population: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 57
                font:
                    size: [
                        [10, 16],
                        [11, 19.2],
                        [12, 22.4],
                        [13, 24]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    locality_label_10k:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population > 10000; }
            - population: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 56
                font:
                    size: [
                        [11, 16],
                        [12, 17.6],
                        [13, 19.2],
                        [14, 20.8],
                        [15, 22.4]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    locality_label:
        data: { source: berlin , layer: places}
        filter:
            all:
            - kind: locality
            - function() { return feature.population <= 10000; }
            - population: true
        draw:
            text:
                text_source: global.language_text_source
                priority: 50
                font:
                    size: [
                        [11, 12.8],
                        [12, 14.4],
                        [13, 16],
                        [14, 17.6],
                        [15, 19.2]
                        ]
                    fill: '#090A0B'
                    stroke: {
                        color: [1.000, 1.000, 1.000, 0.50],
                        width: 1px
                        }
    building_level15:
        data: { source: berlin, layer: buildings }
            #- function() {return feature.level >=15;}
        draw:
            polygon_fill:
                filter:
                    - $geometry: polygon
                style: polygons
                order: 2000
                color: [0.929, 0.906, 0.882, 0.9]
                extrude: function() { return feature.height; }
            polygon_outlines:
                filter:
                    - $geometry: lines
                style: lines
                color: '#172023'
                width: 1
                order: 2000
    building_address:
        data: { source: berlin, layer: buildings }
        filter:
            any:
             - kind: address
             - $geometry: point
        draw:
            text:
                text_source: addr_housenumber
                priority: 100
                font:
                    size: 14.4
                    fill: [0.663, 0.663, 0.663, 0.60]
                    stroke: {
                        color: [0.349, 0.349, 0.349, 1.00],
                        width: 1px
                        }
