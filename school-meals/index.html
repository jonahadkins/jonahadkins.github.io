<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Public Schools Meals-to-Go Service</title>
  <meta name="robots" content="noindex, nofollow" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet" />
  <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.js"></script>
  <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.8.1/mapbox-gl.css" rel="stylesheet" />
  <style>
    body {
      color: #404040;
      font: 400 15px/22px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
    }

    * {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
    }

    .sidebar {
      position: absolute;
      width: 33.3333%;
      height: 100%;
      top: 0;
      left: 0;
      overflow: hidden;
      border-right: 1px solid rgba(0, 0, 0, 0.25);
    }

    .pad2 {
      padding: 20px;
    }

    .map {
      position: absolute;
      left: 33.3333%;
      width: 66.6666%;
      top: 0;
      bottom: 0;
    }

    h1 {
      font-size: 22px;
      margin: 0;
      font-weight: 400;
      line-height: 20px;
      padding: 10px 2px;
    }

    a {
      color: #F7E274;
      text-decoration: none;
    }

    a:hover {
      color: #101010;
    }

    .heading {
      background: #fff;
      font-size: 12px;
      border-bottom: 1px solid #eee;
      min-height: 10px;
      line-height: 15px;
      padding: 0 10px;
      background-color: #478cbd;
      color: #fff;
    }

    .listings {
      height: 100%;
      overflow: auto;
      padding-bottom: 10px;
    }

    .listings .item {
      display: block;
      border-bottom: 1px solid #eee;
      padding: 10px;
      text-decoration: none;
    }

    .listings .item:last-child {
      border-bottom: none;
    }

    .listings .item .title {
      display: block;
      color: #478cbd;
      font-weight: 700;
    }

    .listings .item .title small {
      font-weight: 400;
    }

    .listings .item.active .title,
    .listings .item .title:hover {
      color: #478cbd;
    }

    .listings .item.active {
      background-color: #f8f8f8;
    }

    ::-webkit-scrollbar {
      width: 3px;
      height: 3px;
      border-left: 0;
      background: rgba(0, 0, 0, 0.1);
    }

    ::-webkit-scrollbar-track {
      background: none;
    }

    ::-webkit-scrollbar-thumb {
      background: #478cbd;
      border-radius: 0;
    }

    .marker {
      border: none;
      height: 21px;
      width: 21px;
      background-image: url(marker.png);
      background-color: rgba(0, 0, 0, 0);
    }

    .clearfix {
      display: block;
    }

    .clearfix:after {
      content: '.';
      display: block;
      height: 0;
      clear: both;
      visibility: hidden;
    }

    /* Marker tweaks */
    .mapboxgl-popup {
      padding-bottom: 50px;
    }

    .mapboxgl-popup-close-button {
      display: none;
    }

    .mapboxgl-popup-content {
      font: 400 15px/22px 'Source Sans Pro', 'Helvetica Neue', Sans-serif;
      padding: 0;
      width: 180px;
    }

    .mapboxgl-popup-content-wrapper {
      padding: 1%;
    }

    .mapboxgl-popup-content h3 {
      background: #478cbd;
      color: #fff;
      margin: 0;
      display: block;
      padding: 10px;
      border-radius: 3px 3px 0 0;
      font-weight: 700;
      margin-top: -15px;
    }

    .mapboxgl-popup-content h4 {
      margin: 0;
      display: block;
      padding: 10px 10px 10px 10px;
      font-weight: 400;
    }

    .mapboxgl-popup-content div {
      padding: 10px;
    }

    .mapboxgl-container .leaflet-marker-icon {
      cursor: pointer;
    }

    .mapboxgl-popup-anchor-top>.mapboxgl-popup-content {
      margin-top: 15px;
    }

    .mapboxgl-popup-anchor-top>.mapboxgl-popup-tip {
      border-bottom-color: #478cbd;
    }
  </style>
</head>

<body>
  <div class="sidebar">
    <div class="heading">
      <h1>Public Schools Meals-to-Go Service</h1>
      <p>See each schools site for more info:
        <br> <a target="blank" href="http://sbo.nn.k12.va.us/cns/">Newport News .</a>
        <a target="blank" href="http://www.hampton.k12.va.us/news/2020March/FAQsMeals.html">Hampton .</a>
        <a target="blank" href="https://yorkcountyschools.org/aboutUs/emergencyInfo/coronavirus.aspx">York County .</a>
        <a target="blank" href="https://www.poquoson.k12.va.us/Page/14444">Poquoson .</a>
        <br> <a target="blank"
          href="https://wjccschools.org/newsroom/grab-and-go-meal-plan-and-student-medication-pickup-information-3-15-20/">Williamsburg
          - James City County .</a>
        <a target="blank"
          href="https://irp-cdn.multiscreensite.com/15b2898c/files/uploaded/grab%20and%20go.pdf">Gloucester .</a>
        <a target="blank" href="http://www.mathews.k12.va.us/covid-19-b8e62c64">Mathews .</a>
        <a target="blank" href="https://4.files.edl.io/4c2b/03/25/20/192113-bc7e236a-9668-43cd-9899-2230a3f9adeb.pdf">Isle of Wight</a>
        <p>Made by <a target="blank" href="https://twitter.com/jonahadkins">Jonah Adkins</a> || <a target="blank"
            href="https://github.com/jonahadkins/jonahadkins.github.io/tree/master/nnps-meals">Code Here</a>
    </div>
    <div id="listings" class="listings"></div>
  </div>
  <div id="map" class="map"></div>
  <script>
    if (!('remove' in Element.prototype)) {
      Element.prototype.remove = function () {
        if (this.parentNode) {
          this.parentNode.removeChild(this);
        }
      };
    }

    mapboxgl.accessToken = 'pk.eyJ1Ijoiam9uYWhhZGtpbnMiLCJhIjoiRlVVVkx3VSJ9.9sdVEK_B_VkEXPjssU5MqA';

    /**
     * Add the map to the page
     */
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/light-v10',
      center: [-76.535568,37.033803],
      zoom: 9
    });
    map.addControl(new mapboxgl.NavigationControl());

    var stores = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {
            "name": "An Achievable Dream Academy",
            "address": "726 16th Street",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.412895,
              36.97603
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Epes Elementary School",
            "address": "855 Lucas Creek Road",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.55061,
              37.131411
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Heritage High School",
            "address": "5800 Marshall Avenue",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.427121,
              37.006288
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "McIntosh Elementary School",
            "address": "185 Richneck Road",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.52913093566895,
              37.14774651740528
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Newsome Park Elementary School",
            "address": "4200 Marshall Avenue",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.42260432243347,
              36.9960148989077
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Palmer Elementary School",
            "address": "100 Palmer Lane",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.48919820785522,
              37.10733725647432
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Warwick High School",
            "address": "51 Copeland Lane",
            "type": "school",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.47600173950195,
              37.052505650907634
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Courthouse Way Community",
            "address": "Corner of Old Courthouse Way and Circuit Lane",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.53775691986083,
              37.13842453422676
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Tillerson Community",
            "address": "Corner of Tillerson Drive and Alan Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.52544021606445,
              37.12880201659265
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Peninsula Boys and Girls Club",
            "address": "429 Thorncliff Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.54946208000183,
              37.15221039975228
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Lee's Mill Community",
            "address": "Corner of Lee's Mill Drive and Charles Street",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.56355977058409,
              37.16866548242836
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "J. Clyde Area/Midtown (near Rite Aid)",
            "address": "Forrest Drive and Woods Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.47083044052124,
              37.07582634055091
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Aqueduct Community",
            "address": "Corner of Colony Road and Aqueduct Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.5167498588562,
              37.1148835532981
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "South Morrison Family Learning Center",
            "address": "746 Adams Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.46074533462524,
              37.05882451937737
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Boys and Girls Club",
            "address": "95 North Tyler Avenue",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.4543831348419,
              37.02782448842479
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Hogan Drive/City Center Area",
            "address": "Commercial Place behind WaWa",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.49267435073853,
              37.10002980809726
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Marcus Drive/Abbington Landing/Waypoint Apartments",
            "address": "Cul-de-Sac at Marcus Drive",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.4636743068695,
              37.09640149222463
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Circle Mobile Home Park",
            "address": "Front of Rental Office at 6029 Jefferson Avenue",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.44288182258605,
              37.016209063369736
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Doris Miller Community Center",
            "address": "2814 Wickham Avenue",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.41381740570068,
              36.986879925807855
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Boys and Girls Club - Greater Hampton Roads",
            "address": "629 Hampton Avenue",
            "type": "other",
            "division": "newport news",
            "times": "11:30 a.m. to 1:00 pm",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.41912281513214,
              36.97954801642401
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Aberdeen Elementary School",
            "address": "1424 Aberdeen Road",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.40536308288574,
              37.03359727641879
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Cary Elementary School",
            "address": "2009 Andrews Boulevard",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.31249427795409,
              37.04651165799087
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Langley Elementary School",
            "address": "16 Rockwell Road",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.33319020271301,
              37.06834463904148
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Moton Early Childhood Center",
            "address": "339 Old Buckroe Road",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.3210129737854,
              37.026111410537325
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Hampton High School",
            "address": "1491 West Queen Street",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.38287544250487,
              37.02403853463819
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Syms Middle School",
            "address": "170 Fox Hill Road",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.33051872253418,
              37.053584519359624
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Tarrant Middle School",
            "address": "1435 Todds Lane",
            "type": "school",
            "division": "hampton",
            "times": "11:00 a.m. to 12:30 p.m",
            "days": "M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.42041563987732,
              37.041613358053695
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Magruder Elementary School",
            "address": "700 Penniman Rd",
            "type": "school",
            "division": "york county",
            "times": "11 a.m. – 1 p.m",
            "days": "M Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.67336940765381,
              37.266898088600705
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "York High School",
            "address": "9300 George Washington Memorial Hwy",
            "type": "school",
            "division": "york county",
            "times": "11 a.m. – 1 p.m",
            "days": "M Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.50089263916016,
              37.204013192853154
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Tabb High School",
            "address": "3711 Big Bethel Rd",
            "type": "school",
            "division": "york county",
            "times": "11 a.m. – 1 p.m",
            "days": "M Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.43360137939453,
              37.123489862701675
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Quick Mart",
            "address": "212 Wythe Creek Rd",
            "type": "other",
            "division": "poquoson",
            "times": "11 a.m",
            "days": "M W"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.39288008213043,
              37.10926240364248
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Poquoson Place Apartments",
            "address": "Charles Parrish Rd",
            "type": "other",
            "division": "poquoson",
            "times": "11:30 a.m",
            "days": "M W"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.39288008213043,
              37.13278374896937
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Poquoson Avenue across from Trinity Church",
            "address": "1295 Poquoson Ave",
            "type": "other",
            "division": "poquoson",
            "times": "12 p.m",
            "days": "M W"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.34583950042725,
              37.12264296313216
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Poquoson High School",
            "address": "51 Odd Rd",
            "type": "school",
            "division": "poquoson",
            "times": "11 a.m. – 1 p.m",
            "days": "M W"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.37991428375243,
              37.12886189381905
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "James River Elementary School",
            "address": "8901 Pocahontas Trail",
            "type": "school",
            "division": "williamsburg james city",
            "times": "8 a.m. – 10 a.m.",
            "days": "M W F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.61724150180815,
              37.20946495126991
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "James Blair Middle School",
            "address": "101 Longhill Rd",
            "type": "school",
            "division": "williamsburg james city",
            "times": "8 a.m. – 10 a.m.",
            "days": "M W F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.72598898410797,
              37.29142877953957
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Toano Middle School",
            "address": "7817 Richmond Rd",
            "type": "school",
            "division": "williamsburg james city",
            "times": "8 a.m. – 10 a.m.",
            "days": "M W F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.80053293704987,
              37.376449504595044
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Warhill High School",
            "address": "4615 Opportunity Way",
            "type": "school",
            "division": "williamsburg james city",
            "times": "8 a.m. – 10 a.m.",
            "days": " M W F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.75694704055786,
              37.33288696431806
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Abington Elementary",
            "address": "7087 Powhatan Drive",
            "type": "school",
            "division": "gloucester",
            "times": "9:30 a.m. – 11:30 a.m.",
            "days": " M T W Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.51370286941528,
              37.29174885924905
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Achilles Elementary",
            "address": "9306 Guinea Road",
            "type": "school",
            "division": "gloucester",
            "times": "9:30 a.m. – 11:30 a.m.",
            "days": " M T W Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.44223809242249,
              37.27827872812505
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Petsworth Elementary",
            "address": "10658 George Washington Memorial Hwy",
            "type": "school",
            "division": "gloucester",
            "times": "9:30 a.m. – 11:30 a.m.",
            "days": " M T W Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.6046941280365,
              37.46200841431509
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Gloucester High School",
            "address": "6680 Short Lane",
            "type": "school",
            "division": "gloucester",
            "times": "9:30 a.m. – 11:30 a.m.",
            "days": " M T W Th"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.52592301368713,
              37.38205076046732
            ]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "name": "Mathews High School",
            "address": "9889 Buckley Hall Rd",
            "type": "school",
            "division": "mathews",
            "times": "10:30 a.m. – 12:30 a.m.",
            "days": " M T W Th F"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [
              -76.32530450820921,
              37.45091112983976
            ]
          }
        },
        {
      "type": "Feature",
      "properties": {
        "name": "Morris Creek Apartments/John Rolfe Area",
        "address": "982 John Rolfe Dr",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.60927534103394,
          36.974559685919516
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Wrenn's Mill Estates",
        "address": "Old Stage Highway / Kings Pointe Avenue",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.65034532546997,
          37.02462100134852
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Jones Creek Mobile Home Community",
        "address": "Boundary Rd, Carrollton, VA",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.55917704105377,
          36.974773968006176
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Blairs Creek Mobile Home Community",
        "address": "11555 Cindale Drive",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.67287588119507,
          36.98759979465363
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Carrollton Villa Apartments",
        "address": "15111 Carrollton Blvd",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.52486085891724,
          36.933871590783355
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Smithfield Heights",
        "address": "Smithfield Heights Dr",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.65033996105194,
          36.94610195228598
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Queen Anne's Court",
        "address": "Queen Anne's Court",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.58296823501587,
          36.938534580646255
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Carrollton Meadows",
        "address": "Spring Crest Drive",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.52100920677185,
          36.93130092863481
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Sandy Mount",
        "address": "Spring Crest Drive",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.6430389881134,
          36.942817848178706
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Woodbridge Townhomes",
        "address": "Kings Crossing",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.52849793434143,
          36.953441370316085
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Lakeside Housing",
        "address": "Lakeside Circle",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.69003129005432,
          36.92268997252593
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Riverview",
        "address": "Riverview Ave",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.63585066795349,
          36.98501166297467
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Thomas Park Community",
        "address": "Thomas Park Community Lane",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.63156986236572,
          37.01173716529917
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Eagle Harbor Apartments",
        "address": "220 Marsh Landing",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.529141664505,
          36.955143225474124
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Jersey Park Apartments",
        "address": "775 Wrenn Rd",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.64567828178406,
          36.975001106359294
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Smithfield Apartments",
        "address": "Smithfield Apartments Ln",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.64214849472046,
          37.01917305002091
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Church Manor Apartments",
        "address": "513 Main St",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.63779258728027,
          36.97792813051479
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Cedar Street Apartments",
        "address": "545 Cedar St",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.63507282733917,
          36.97869522364332
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "The Nest",
        "address": "800 Chickahominy Loop",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.53391599655151,
          36.95181235494688
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Rushmere Fire Department",
        "address": "5354 Old Stage Hwy",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.67724251747131,
          37.06625579423912
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Bradford Mews Apartments",
        "address": "100 Cattail Ln",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.60163640975952,
          36.960188552395984
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Pocahontas and Lincoln Ave pull off",
        "address": "Pocahontas Ave and Lincoln Ave",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 p.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.90717220306396,
          36.681076792267966
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Walters Ruritan Club",
        "address": "27746 Walters Hwy",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.84596955776213,
          36.77487452834172
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Beaver Brook Mobile Home Community",
        "address": "32481 Walters Hwy",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 p.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.89242005348206,
          36.695358498928826
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Camptown Park",
        "address": "33475 Carver Rd",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.90246224403381,
          36.682135106091934
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Georgie Tyler Apartments",
        "address": "101 Georgie D Tyler Dr",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:10 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.74563884735107,
          36.823929036428304
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Windsor Manor Mobile Homes",
        "address": "11 N Prince Blvd",
        "type": "other",
        "division": "isle of wight",
        "times": "12:20 p.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.74885749816893,
          36.81513418280327
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Bethany Presbyterian Church",
        "address": "5358 Zuni Cir",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.83163583278656,
          36.86589679201725
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Twin Ponds Mobile Community",
        "address": "10403 Twin Ponds Dr",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.74361109733582,
          36.82305303187726
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Clydesdale Mobile Community",
        "address": "100 Clydes Ln",
        "type": "other",
        "division": "isle of wight",
        "times": "11:30 a.m. – 12:30 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.75529479980469,
          36.8432672877833
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Smithfield High School",
        "address": "14171 Turner Dr",
        "type": "school",
        "division": "isle of wight",
        "times": "11:30 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.59961938858032,
          36.94529594506515
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Georgie Tyler Middle School",
        "address": "23320 N Court St",
        "type": "school",
        "division": "isle of wight",
        "times": "11:30 a.m. – 1:00 p.m.",
        "days": " M T W Th F"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.74677610397339,
          36.81983234070519
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "Carrsville Elementary School",
        "address": "5355 Carrsville Hwy",
        "type": "school",
        "division": "isle of wight",
        "times": "11:30 a.m. – 1:00 p.m.",
        "days": " M T W Th F"},
      "geometry": {
        "type": "Point",
        "coordinates": [
          -76.83302521705627,
          36.71346492090008
        ]
      }
    }
      ]
    };

    stores.features.forEach(function (store, i) {
      store.properties.id = i;
    });
    map.on('load', function (e) {

      map.addSource('places', {
        'type': 'geojson',
        'data': stores
      });

      buildLocationList(stores);
      addMarkers();
    });

    function addMarkers() {
      stores.features.forEach(function (marker) {
        var el = document.createElement('div');
        el.id = 'marker-' + marker.properties.id;
        el.className = 'marker';

        new mapboxgl.Marker(el, { offset: [0, -23] })
          .setLngLat(marker.geometry.coordinates)
          .addTo(map);

        el.addEventListener('click', function (e) {
          flyToStore(marker);
          createPopUp(marker);
          var activeItem = document.getElementsByClassName('active');
          e.stopPropagation();
          if (activeItem[0]) {
            activeItem[0].classList.remove('active');
          }
          var listing = document.getElementById(
            'listing-' + marker.properties.id
          );
          listing.classList.add('active');
        });
      });
    }
    function buildLocationList(data) {
      data.features.forEach(function (store, i) {
        var prop = store.properties;
        var listings = document.getElementById('listings');
        var listing = listings.appendChild(document.createElement('div'));
        listing.id = 'listing-' + prop.id;
        listing.className = 'item';
        var link = listing.appendChild(document.createElement('a'));
        link.href = '#';
        link.className = 'title';
        link.id = 'link-' + prop.id;
        link.innerHTML = '<b>' + prop.name + '</b>';

        var details = listing.appendChild(document.createElement('div'));
        details.innerHTML =
          '<b>' + 'address: ' + '</b>' + prop.address +
          '<br>' + '<b>' + 'days of week: ' + '</b>' + prop.days +
          '<br>' + '<b>' + 'times of day: ' + '</b>' + prop.times;
        link.addEventListener('click', function (e) {
          for (var i = 0; i < data.features.length; i++) {
            if (this.id === 'link-' + data.features[i].properties.id) {
              var clickedListing = data.features[i];
              flyToStore(clickedListing);
              createPopUp(clickedListing);
            }
          }
          var activeItem = document.getElementsByClassName('active');
          if (activeItem[0]) {
            activeItem[0].classList.remove('active');
          }
          this.parentNode.classList.add('active');
        });
      });
    }
    function flyToStore(currentFeature) {
      map.flyTo({
        center: currentFeature.geometry.coordinates,
        zoom: 15
      });
    }

    function createPopUp(currentFeature) {
      var popUps = document.getElementsByClassName('mapboxgl-popup');
      if (popUps[0]) popUps[0].remove();
      var popup = new mapboxgl.Popup({ closeOnClick: false })
        .setLngLat(currentFeature.geometry.coordinates)
        .setHTML(
          '<h3>' + currentFeature.properties.name + '</h3>' +
          '<h4>' + currentFeature.properties.address + '</h4>' +
          '<h4>' + '<b>' + 'days: ' + '</b>' + currentFeature.properties.days + '</h4>' +
          '<h4>' + '<b>' + 'times: ' + '</b>' + currentFeature.properties.times + '</h4>'
        )
        .addTo(map);
    }

    map.addControl(
      new mapboxgl.GeolocateControl({
        positionOptions: {
          enableHighAccuracy: true
        },
        trackUserLocation: true
      })
    );
  </script>
</body>

</html>
